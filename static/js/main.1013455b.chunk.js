(this.webpackJsonptodo_react=this.webpackJsonptodo_react||[]).push([[0],{25:function(e,t,a){e.exports={createWrapper:"CreateForm_createWrapper__3qDXe",form:"CreateForm_form__W3BKn",btnContainer:"CreateForm_btnContainer__1WFhH",input:"CreateForm_input__1Epmk",priority:"CreateForm_priority__10AY_"}},33:function(e,t,a){e.exports={listElement:"Task_listElement__1QsXU",taskDone:"Task_taskDone__26y_K Task_listElement__1QsXU",btnContainer:"Task_btnContainer__34nII",priority:"Task_priority__2-kFZ","priority--normal":"Task_priority--normal__3NtuL Task_priority__2-kFZ","priority--low":"Task_priority--low__3trNU Task_priority__2-kFZ","priority--hight":"Task_priority--hight__3L-k3 Task_priority__2-kFZ"}},45:function(e,t,a){e.exports={list:"Tasks_list__3Z5-2",noTasks:"Tasks_noTasks__XNfky"}},46:function(e,t,a){e.exports={appWrapper:"App_appWrapper__3MB5m",selectWrapper:"App_selectWrapper__2-9c4"}},65:function(e,t,a){e.exports=a(95)},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),o=a.n(i),l=(a(70),a(37)),s=a(14),c=a(10),u=a(27),d=a(15),m=a(38),p=a(39),h=a(43),k=a(33),v=a.n(k),f=a(122),y=a(125),C=Object(f.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));function g(e){var t=e.type,a=e.onClick,n=C();return r.a.createElement("div",{className:n.root},r.a.createElement(y.a,{variant:"outlined",color:"primary",type:t,onClick:a},"Done"))}var E=Object(f.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));function b(e){var t=e.type,a=e.onClick,n=E();return r.a.createElement("div",{className:n.root},r.a.createElement(y.a,{variant:"outlined",type:t,onClick:a},"Edit"))}var _=Object(f.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));function S(e){var t=e.type,a=e.onClick,n=_();return r.a.createElement("div",{className:n.root},r.a.createElement(y.a,{variant:"outlined",color:"secondary",type:t,onClick:a},"Delete"))}var x=function(e){var t=e.onDeleteClick,a=e.onDoneBtnClick,n=e.onEditBtnClick,i=e.task,o=e.searchStatus,l=e.searchPriority,s=e.search;return r.a.createElement("li",{id:i.id,className:"".concat("done"===i.status?v.a.taskDone:v.a.listElement," ").concat(s||l||o?null:"isDraggable")},r.a.createElement("span",{className:v.a["priority--".concat(i.priority)]},i.priority),r.a.createElement("h2",null,i.title?i.title:"Title id-".concat(i.id)),r.a.createElement("p",null,i.text?i.text:"\u0415\u0445\u0430\u043b\u0438 \u043c\u0435\u0434\u0432\u0435\u0434\u0438 \u043d\u0430 \u0432\u0435\u043b\u043e\u0441\u0438\u043f\u0435\u0434\u0435, \u0430 \u0437\u0430 \u043d\u0438\u043c\u0438 \u043a\u043e\u0442 \u0437\u0430\u0434\u043e\u043c \u043d\u0430 \u043f\u0435\u0440\u0435\u0434"),r.a.createElement("div",{className:v.a.btnContainer},r.a.createElement(g,{type:"button",onClick:a}),r.a.createElement(b,{type:"button",onClick:n}),r.a.createElement(S,{type:"button",onClick:t})))},O=a(45),T=a.n(O),N=function(e){var t=e.tasks,a=e.onDeleteClick,n=e.onDoneBtnClick,i=e.onEditBtnClick,o=e.realTasks,l=e.search,s=e.searchPriority,c=e.searchStatus;return r.a.createElement("div",{className:"wrapper"},t.length>0&&r.a.createElement("ul",{className:T.a.list,id:"Flexbox"},t.map((function(e,t){return r.a.createElement(x,{onDeleteClick:a,onDoneBtnClick:n,onEditBtnClick:i,task:e,key:e.id,index:t,search:l,searchPriority:s,searchStatus:c})}))),!t.length&&!o.length&&r.a.createElement("p",{className:T.a.noTasks},"You don`t have any created tasks"),!t.length&&o.length>0&&r.a.createElement("p",{className:T.a.noTasks},"Sorry, I can`t find any tasks of your request",r.a.createElement("span",{role:"img"},"\ud83d\ude1e")))},w=a(44),D=Object(f.a)((function(e){return{root:{"& > *":{margin:e.spacing(2),width:100}},create:{borderRadius:"50%",backgroundColor:w.a[900],height:100,boxShadow:"3px 4px 11px -1px rgba(0, 0, 0, 0.75)",position:"fixed",bottom:20,right:20}}}));function j(e){var t=e.onClick,a=D();return r.a.createElement("div",{className:a.root},r.a.createElement(y.a,{variant:"contained",color:"primary",type:"button",onClick:t,size:"large",className:a.create},"Create"))}var F=a(54),I=a.n(F),B=a(42),W=a(131),A=a(132),L=a(127),P=a(130),H=Object(f.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:130},selectEmpty:{marginTop:e.spacing(2)}}}));function Z(e){var t=e.title,a=e.options,n=e.name,i=e.onChange,o=e.value,l=H(),s=r.a.useRef(null),c=r.a.useState(0),u=Object(B.a)(c,2),d=u[0],m=u[1];return r.a.useEffect((function(){m(s.current.offsetWidth)}),[]),r.a.createElement("div",null,r.a.createElement(L.a,{variant:"outlined",className:l.formControl},r.a.createElement(W.a,{ref:s,id:"demo-simple-select-outlined-label"},t),r.a.createElement(P.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:o,onChange:i,labelWidth:d,name:n},r.a.createElement(A.a,{value:""},r.a.createElement("em",null,"None")),a.map((function(e){return r.a.createElement(A.a,{value:e,key:e},e)})))))}var J=Object(f.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));function U(e){var t=e.edit,a=e.type,n=J();return r.a.createElement("div",{className:n.root},r.a.createElement(y.a,{variant:"contained",color:"primary",type:a},t?"Edit":"Save"))}var X=Object(f.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));function q(e){var t=e.type,a=e.onClick,n=X();return r.a.createElement("div",{className:n.root},r.a.createElement(y.a,{variant:"contained",color:"secondary",type:t,onClick:a},"Cancel"))}var G=a(133);function M(e){var t=e.onChange,a=e.value,n=e.label,i=e.type,o=e.name;return r.a.createElement("div",null,r.a.createElement(G.a,{id:"outlined-search",label:n,type:i,variant:"outlined",name:o,onChange:t,value:a}))}function Y(e){var t=e.name,a=e.value,n=e.onChange;return r.a.createElement("div",null,r.a.createElement(G.a,{id:"outlined-textarea",label:"Task text",placeholder:"Type task text",multiline:!0,rows:"8",variant:"outlined",name:t,value:a,onChange:n}))}var z=a(25),K=a.n(z),Q=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",text:"",priority:"normal"},a.handleChange=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value)),"priority"!==e.target.name||e.target.value||(alert("You should choose priority"),a.setState({priority:"low"}))},a.onSubmit=function(){var e=a.state,t=e.title,n=e.text,r=e.priority;return{id:I.a.generate(),title:t,text:n,priority:r,status:"open",created_at:Date.now()}},a.onEdit=function(){var e=a.props.edit,t=a.state,n=t.title,r=t.text,i=t.priority;return e=Object(l.a)({},e,{title:n,text:r,priority:i})},a.handleCloseOnGrey=function(e){return e.target===e.currentTarget?a.props.onCancelClick():null},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){if(this.props.edit){var e=this.props.edit,t=e.title,a=e.text,n=e.priority;this.setState({title:t,text:a,priority:n})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=t.text,i=t.priority,o=this.props,l=o.onCancelClick,s=o.edit,c=o.onEditedSubmit;return r.a.createElement("div",{className:K.a.createWrapper,onClick:this.handleCloseOnGrey},r.a.createElement("form",{className:K.a.form,onSubmit:s?function(t){t.preventDefault();var a=e.onEdit();c(a),document.body.classList.remove("scrollHide")}:function(t){t.preventDefault();var a=e.onSubmit();e.props.onSubmitForm(a),e.setState({title:"",text:""}),document.body.classList.remove("scrollHide")}},r.a.createElement("div",{className:K.a.priority},r.a.createElement(Z,{onChange:this.handleChange,title:"Priority",options:["low","normal","hight"],name:"priority",value:i})),r.a.createElement("div",{className:K.a.input},r.a.createElement(M,{onChange:this.handleChange,value:a,name:"title",type:"text",label:"Create title"})),r.a.createElement("div",{className:K.a.input},r.a.createElement(Y,{name:"text",onChange:this.handleChange,value:n})),r.a.createElement("div",{className:K.a.btnContainer},r.a.createElement(U,{edit:s,type:"submit"}),r.a.createElement(q,{type:"button",onClick:l}))))}}]),t}(n.Component),R=a(46),V=a.n(R),$=a(47);function ee(){var e=this,t=document.querySelectorAll("#Flexbox"),a=!0,n=window.innerWidth;if(t.length){n<646&&(a=!1);var r,i=new $.Sortable(t,{draggable:".isDraggable",swapAnimation:{duration:100,easingFunction:"ease-in-out",horizontal:a},mirror:{constrainDimensions:!0},plugins:[$.Plugins.SwapAnimation]});i.on("drag:start",(function(t){var a=e.state.tasks,n=t.data.source;n.classList.add("graped"),r=a.find((function(e){return e.id===n.id}))})),i.on("sortable:stop",(function(t){var a=e.state.tasks;if(t.data.oldIndex!==t.data.newIndex){var n=a.filter((function(e,a){return a!==t.data.oldIndex?e:void 0}));n.splice(t.data.newIndex,0,r),e.setState({tasks:n})}}))}}var te=function(e,t,a,n){return e.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())})).filter((function(e){return a?e.status===a:e})).filter((function(e){return n?e.priority===n:e}))},ae=function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(a){console.error("Get state error: ",a)}},ne=function(e,t){try{var a=JSON.stringify(t);localStorage.setItem(e,a)}catch(n){console.error("Set state error: ",n)}},re=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={tasks:[],modalIsOpen:!1,edit:null,search:"",searchStatus:"",searchPriority:""},a.FlexApp=ee,a.handleChange=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value))},a.handleOpenFormCreateTask=function(){window.scrollTo(0,0),a.setState({modalIsOpen:!0}),document.body.classList.add("scrollHide")},a.handleAddTask=function(e){a.setState((function(t){return{tasks:[e].concat(Object(s.a)(t.tasks))}})),a.setState({modalIsOpen:!1})},a.onCancelClick=function(){a.setState({modalIsOpen:!1,edit:null}),document.body.classList.remove("scrollHide")},a.onDeleteClick=function(e){var t=a.state.tasks,n=e.target.closest("li"),r=t.filter((function(e){return e.id!==n.id}));a.setState({tasks:r})},a.onDoneBtnClick=function(e){var t=a.state.tasks,n=e.target.closest("li"),r=t.map((function(e){return e.id===n.id?Object(l.a)({},e,{status:"done"}):e}));a.setState({tasks:r})},a.onEditBtnClick=function(e){window.scrollTo(0,0),document.body.classList.add("scrollHide");var t=a.state.tasks,n=e.target.closest("li"),r=t.find((function(e){return n.id===e.id}));a.setState({edit:r,modalIsOpen:!0})},a.onEditedSubmit=function(e){var t=a.state.tasks.map((function(t){return t.id===e.id?e:t}));a.setState({tasks:t}),a.setState({modalIsOpen:!1,edit:null})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.FlexApp();var e=ae("tasksLS");e&&this.setState({tasks:e})}},{key:"componentDidUpdate",value:function(e,t){t.tasks.length||this.FlexApp(),t.tasks!==this.state.tasks&&ne("tasksLS",this.state.tasks)}},{key:"render",value:function(){var e=this.state,t=e.tasks,a=e.modalIsOpen,n=e.edit,i=e.search,o=e.searchStatus,l=e.searchPriority,s=te(t,i,o,l);return r.a.createElement("div",null,r.a.createElement("div",{className:"wrapper ".concat(V.a.appWrapper)},r.a.createElement(M,{onChange:this.handleChange,value:i,name:"search",type:"serch",label:"Search by title"}),r.a.createElement("div",{className:V.a.selectWrapper},r.a.createElement(Z,{onChange:this.handleChange,title:"Priority",options:["low","normal","hight"],name:"searchPriority",value:l}),r.a.createElement(Z,{title:"Status",options:["open","done"],name:"searchStatus",onChange:this.handleChange,value:o}))),r.a.createElement(N,{realTasks:t,tasks:s,onDeleteClick:this.onDeleteClick,onDoneBtnClick:this.onDoneBtnClick,onEditBtnClick:this.onEditBtnClick,search:i,searchPriority:l,searchStatus:o}),r.a.createElement(j,{onClick:this.handleOpenFormCreateTask}),a&&r.a.createElement(Q,{onSubmitForm:this.handleAddTask,edit:n,onCancelClick:this.onCancelClick,onEditedSubmit:this.onEditedSubmit}))}}]),t}(n.Component);a(94);o.a.render(r.a.createElement(re,null),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.1013455b.chunk.js.map